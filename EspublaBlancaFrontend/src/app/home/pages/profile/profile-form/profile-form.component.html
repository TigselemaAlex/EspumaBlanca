<app-form-container>
  <ng-template #indication>
    <ul class="text-zinc-700 text-xs m-0 flex flex-col gap-1">
      <li>
        Los campos marcados con
        <strong class="text-amber-700">* son obligatorios.</strong>
      </li>
      <li>
        La cédula debe tener <strong class="text-amber-700">10 dígitos.</strong>
      </li>
      <li>
        Para cambiar el número de cédula o el número de teléfono debe ponerse en
        contacto con el
        <strong class="text-amber-700">administrador del sistema.</strong>
      </li>
    </ul>
  </ng-template>
  <ng-template #header>
    <h3 class="text-base text-indigo-700 font-bold">{{ title }}</h3>
  </ng-template>

  <ng-template #body>
    <form [formGroup]="form" class="grid grid-cols-2 gap-3">
      <mat-form-field appearance="outline" color="primary" class="col-span-1">
        <mat-label>Cédula</mat-label>
        <input
          matInput
          formControlName="ci"
          placeholder="Ingrese la cédula"
          class="outline-zinc-200"
        />
        @if(form.get('ci')?.invalid ) {
        <mat-error>{{ getErrorMessage("ci", form) }} </mat-error>
        }
      </mat-form-field>

      <mat-form-field
        appearance="outline"
        color="primary"
        class="col-start-1 col-span-1"
      >
        <mat-label>Nombre(s)</mat-label>
        <input
          matInput
          formControlName="name"
          placeholder="Ingrese el/los nombre(s)"
        />
        @if(form.get('name')?.invalid ) {
        <mat-error>{{ getErrorMessage("name", form) }} </mat-error>
        }
      </mat-form-field>
      <mat-form-field appearance="outline" color="primary" class="col-span-1">
        <mat-label>Apellido(s)</mat-label>
        <input
          matInput
          formControlName="lastname"
          placeholder="Ingrese el/los apellido(s)"
        />
        @if(form.get('lastname')?.invalid ) {
        <mat-error>{{ getErrorMessage("lastname", form) }} </mat-error>
        }
      </mat-form-field>
      <mat-form-field appearance="outline" color="primary" class="col-span-1">
        <mat-label>Email</mat-label>
        <input
          matInput
          formControlName="email"
          placeholder="Ingrese el email"
          type="email"
        />
        @if(form.get('email')?.invalid ) {
        <mat-error>{{ getErrorMessage("email", form) }} </mat-error>
        }
      </mat-form-field>
      <mat-form-field appearance="outline" color="primary" class="col-span-1">
        <mat-label>Teléfono</mat-label>
        <input
          matInput
          formControlName="phone"
          placeholder="Ingrese el número de teléfono"
          type="tel"
        />
        @if(form.get('phone')?.invalid ) {
        <mat-error>{{ getErrorMessage("phone", form) }} </mat-error>
        }
      </mat-form-field>
    </form>
  </ng-template>
  <ng-template #footer>
    <div class="flex gap-3 justify-end">
      <button mat-flat-button color="primary" (click)="save()">Guardar</button>
      <a mat-flat-button color="warn" routerLink="/home/profile/view">
        Cancelar
      </a>
    </div>
  </ng-template>
</app-form-container>
